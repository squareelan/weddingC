<!DOCTYPE html>
<html>
<title>Yongjun & Bom's Wedding</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="assets/css/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="assets/fonts/NanumMyeongjo.ttc">
<link rel="stylesheet" href="assets/fonts/TheanoDidot-Regular.ttf">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    
<!--<base href="https://www.w3schools.com/" target="_blank">-->

<style>
body,h1,h2{font-family: "Raleway", sans-serif}
body, html {height: 100%}
p {line-height: 2}
.bgimg, .bgimg2 {
    min-height: 100%;
    background-position: center;
    background-size: cover;
}
.bgimg {background-image: url("assets/images/propose2.png")}
.bgimg2 {background-image: url("w3images/flowers.jpg")}
.invitation {text-align: center}
.leftfloat {float:left}
.weddingdetail {font-family: "NanumMyeongjo"}
.bomsfont {font-family: "TheanoDidot-Regular"}
</style>
  

<body  style="background-color:#f7e5e5">

<!-- Header / Home-->
<!--
<header class="w3-display-container w3-wide" id="home">
  <div class="w3-display-bottommiddle w3-text-light-grey w3-center">
    <h1 class="w3-xxxlarge weddingtitlefont">Yongjun & Bom</h1>
    <h2 class="weddingtitlefont">Are getting married</h2>
    <h2 class="weddingtitlefont"><b>2017.04.02</b></h2>    
  </div>

</header>
-->
<!--<div class="w3-display-container w3-wide" id="home">-->
<div class="w3-display-container w3-padding-32">  
  <h2 class="w3-center w3-text-grey" id="home">유용준 & 조봄</h2>
  <h1 class="w3-center w3-text-grey"><b>우리 결혼 합니다</b></h1>
  <h1 class="w3-center w3-text-grey"><b id="countdown"></b></h1>
  <div class="w3-text-grey w3-center">
  <!--  <h4 class="weddingtitlefont">Yongjun & Bom</h1>-->
  <!--    <img src="assets/images/img_heart.png" width="25">-->
  <!--  <h3 class="weddingtitlefont">Are getting married</h3>-->
    <h4><b>2017.04.02 &nbsp&nbsp 6:00 PM</b></h4>
    <h4>라움 마제스틱볼룸</h4>
  </div>
  <!-- img src="assets/images/houston3.png" style="width:100%;margin-top:32px"-->
<!--  <div class="bgimg"></div>-->
</div>
  
<!-- Navbar (sticky bottom) -->
<div class="w3-bottom w3-hide-small">
  <div class="w3-bar w3-white w3-center w3-padding-8 w3-opacity-min w3-hover-opacity-off">
    <a href="#home" style="width:50%" class="w3-bar-item w3-button bomsfont">Home</a>
<!--    <a href="#us" style="width:33%" class="w3-bar-item w3-button bomsfont">Yongjun & Bom</a>-->
    <a href="#wedding" style="width:50%" class="w3-bar-item w3-button bomsfont">Wedding</a>
<!--    <a href="#rsvp" style="width:25%" class="w3-bar-item w3-button w3-hover-black">RSVP</a>-->
  </div>
</div>

<!--
  <div class="w3-display-container bgimg2">
  <div class="w3-display-middle w3-text-white w3-center">
    <h1 class="w3-jumbo">You Are Invited</h1><br>
    <h2>Of course..</h2>
  </div>
</div>
-->
  
<!-- About / Yongjun And Bom -->
<div class="w3-container w3-padding-32 weddingdetail w3-center" style="background-color:#f7dfdf" id="us">
  <div class="w3-content">
    <h1 class="w3-text-grey bomsfont">INVITATION</h1>
<!--    <h1 class="w3-center w3-text-grey"><b>우리 결혼 합니다</b></h1>-->
    <img class="w3-round w3-grayscale-min" src="assets/images/wedding1.jpg" style="width:100%;margin:3px 0">
    
    <p class="invitation" style="margin-top:32px;"><i>하나님의 사랑으로<br>
      만난 두 사람이 이제 새로운 가정을 이루는<br>
      언제나 아름답고 주위의 사랑을 나누는<br>
      행복한 가정을 이루도록<br>
      오셔서 축복해 주시고 지켜봐 주십시오.</i>
    </p>
    <br>
    <div class="w3-center">
      <p>유철근 · 팽미선 의 장남 용준</p>
    </div>

    <div class="w3-center">
      <p>조성태 · (故)김광희 의 장녀 봄</p>
    </div>      
  </div>
</div>

<!-- Background photo -->
<!--
<div class="w3-display-container bgimg2">
  <div class="w3-display-middle w3-text-white w3-center">
    <h1 class="w3-jumbo">You Are Invited</h1><br>
    <h2>Of course..</h2>
  </div>
</div>
-->

<!-- Wedding information -->
<div class="w3-container w3-padding-32 w3-center" id="wedding">
  <div class="w3-content">
    <h1 class="w3-text-grey bomsfont">WEDDING</h1>
    <img class="w3-grayscale-min" src="assets/images/raum2.jpg" style="width:100%;margin:3px 0">
    <div class="w3-row weddingdetail">
      <div class="w3-half w3-padding-16">
        <h2 class="w3-text-grey bomsfont">When</h2>
        <p>예식 - 일요일 6:00 pm</p>
        <p>식사 & 피로연 - 7:00 pm - 11:00 pm</p>
      </div>
      <div class="w3-half w3-padding-16">
        <h2 class="w3-text-grey bomsfont">Where</h2>
        <style>
          p {
            margin-bottom:0px;margin-top:0;
          }
        </style>
        <div>
          <div>
            <p style="margin:15px 0 0 0;"><img src="assets/images/raumLogo.png" style="width:25px; margin-right:5px">더 라움 <a href="http://www.theraum.co.kr/">(The Raum)</a></p>
            <p>서울시 강남구 언주로 564 (역삼동 680-1)</p>
            <p>02-538-3366</p>
          </div>
        </div>
      </div>
      <img class="w3-padding-16" src="assets/images/map.png" style="width:90%;">
      
      <!-- 추가 멘트 -->
      <div class="weddingdetail w3-padding-16 w3-text-grey">
        <h6>축하 화환은 정중히 사양하겠습니다.<br>
          화환은 예식장 사정으로 전시하지 않습니다.</h6>
      </div>      
    </div>
  </div>
</div>

<!-- RSVP section -->
<!--
<div class="w3-container w3-padding-64 w3-center w3-wide" id="rsvp">
  <h1>HOPE YOU CAN MAKE IT!</h1>
  <p class="w3-large">Kindly Respond By January, 2017</p>
  <p class="w3-xlarge">
    <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-round w3-red w3-opacity w3-hover-opacity-off" style="padding:8px 60px">RSVP</button>
  </p>
</div>
-->

<!-- RSVP modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content w3-card-8 w3-animate-top w3-padding-jumbo" style="max-width:600px">
    <div class="w3-container w3-white w3-center">
      <span onclick="document.getElementById('id01').style.display='none'" class="w3-closebtn w3-hover-text-grey w3-margin">x</span>
<!--
      <h1 class="w3-wide">CAN YOU COME?</h1>
      <p>We really hope you can make it.</p>
-->
      <form name="rsvpForm">
        <input class="w3-input w3-border" type="text" placeholder="성함:" name="fname" id="mainGuestName">
<!--        <input class="w3-input w3-border" type="text" placeholder="동행 성함:" name="fname" id="additionalGuestName">-->

        <!-- 인원수 -->
        <div class="btn-group" data-toggle="buttons">
<!--      
          <label class="btn btn-primary">
            <input type="radio" name="options" id="option1" autocomplete="off" checked> 1
          </label>
          <label class="btn btn-primary">
            <input type="radio" name="options" id="option2" autocomplete="off"> 2
          </label>
          <label class="btn btn-primary">
            <input type="radio" name="options" id="option3" autocomplete="off"> 3
          </label>
          <label class="btn btn-primary">
            <input type="radio" name="options" id="option3" autocomplete="off"> 4
          </label>
-->
        </div>   
                
      </form>
      <p><i>Sincerely, Bom & Yongjun</i></p>
      <div class="w3-row">
        <div class="" style="float:left;">
          <button onclick="going()" type="button" class="w3-button w3-block w3-green enableOnFormFilled" disabled="true">참석</button>
        </div>
        <div class="" style="float:right;">
          <button onclick="notGoing()" type="button" class="w3-button w3-block w3-red enableOnFormFilled" disabled="true">불참석</button>
        </div>
      </div>
    </div>
  </div>
</div>
  
<!-- Footer -->
<div class="w3-hide-small" style="margin-bottom:32px"> </div>

</body>
  
<!-- jQuery -->
<script src="http://code.jquery.com/jquery.min.js"></script>
<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-database.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD19uyDm3KDdKAAAnVYjC49YYCudbBif8k",
    authDomain: "squareelan.firebaseapp.com",
    databaseURL: "https://squareelan.firebaseio.com",
    storageBucket: "squareelan.appspot.com",
    messagingSenderId: "512924107988"
  };
  firebase.initializeApp(config);
  console.log("Initialized Firebase");
  
  function writeGuestData(userId, name, extra, isAttending) {
    var group;
    var totalCount = 1;
    if (isAttending == true) {
      group = 'attend/'  
    } else {
      group = 'notAttend/'
    }
    
    if (extra != '') {
      totalCount++;
    }
    
    firebase.database().ref(group + userId).set({
      guestName: name,
      extraGuest: extra,
      isAttending: isAttending,
      total: totalCount
    });
  }
  
  function generateUUID() {
    var d = new Date().getTime();
    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
      var r = (d + Math.random()*16)%16 | 0;
      d = Math.floor(d/16);
      return (c=='x' ? r : (r&0x3|0x8)).toString(16);
    });
    return uuid;
  };
</script>
<script>
  function dismissRSVP() {
    // Disable pop up
    document.getElementById('id01').style.display='none';
    
    // Clean input fields
    document.getElementById("mainGuestName").value = '';
    document.getElementById("additionalGuestName").value = '';
    
    // Disable buttons again
    $('.enableOnFormFilled').prop('disabled', true);
  }
  
  function going() {
    var name = document.getElementById("mainGuestName").value;
    var add = document.getElementById("additionalGuestName").value;

    dismissRSVP();

    console.log("Going: " + name);
    // Update to firebase
    writeGuestData(generateUUID(), name, add, true);
  }
  
  function notGoing() {
    var name = document.getElementById("mainGuestName").value;
    var add = document.getElementById("additionalGuestName").value;
    
    dismissRSVP();

    console.log("Not going: " + name);
    
    // Update to firebase
    writeGuestData(generateUUID(), name, add, false);
  }
  
  $(function () {
      function rsvpFilled() {
        var main = $('#mainGuestName').val();        
        return main != '';
      }
    
      $('#mainGuestName').keyup(function () {
//          if ($(this).val() == '' || $(this).val() == null) {
        if (!rsvpFilled()) {
          //Check to see if there is any text entered
          // If there is no text within the input ten disable the button
          $('.enableOnFormFilled').prop('disabled', true);      
        } else {
          //If there is text in the input, then enable the button
          $('.enableOnFormFilled').prop('disabled', false);
        }
      });
  }); 
</script>  
<script>
  // Set the date we're counting down to
  var countDownDate = new Date("April 2, 2017 18:00:00").getTime();

  var now = new Date().getTime();

  // Find the distance between now an the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  var countdownString = ((days<0)? "+" : "-") + days.toString();
  // Output the result in an element with id="countdown"
  document.getElementById("countdown").innerHTML = "D" + countdownString;
</script>
</html>
